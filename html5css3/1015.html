<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=gb2312" http-equiv="Content-Type">
<title>ecshop二次开发网页模板之常用函数汇总_网站模板下载尽在源码路-</title>
<meta name="keywords" content="ecshop,二次开发,网页模板,常用,函数,汇总,最近,进" />
<meta name="description" content="最近进行ecshop的二次开发，整理了一部分的函数，另外在ecshop论坛上面也发现了很多函数说明，整理汇总如下，供大家参考。 所有函数功能说明: lib_time.php gmtime() 说明：获得当前格林威治时间的时间戳 server_timezone() 说明：获得服务器的时区 local_mk" />
<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" type="text/css" href="/style/css/style.css">
<script type="text/javascript" src="/style/js/index.js"></script>
<script language="javascript" type="text/javascript" src="/include/dedeajax2.js"></script> 
<script language="javascript" type="text/javascript"> 
<!-- 
function CheckLogin(){ 
var taget_obj = document.getElementById('_userlogin'); 
myajax = new DedeAjax(taget_obj,false,false,'','',''); 
myajax.SendGet2("/member/ajax_loginsta.php"); 
DedeXHTTP = null; 
} 
--> 
</script>
<!--[if IE 6]>
<script src="/style/js/DD_belatedPNG_0.0.8a-min.vb4e86b02.js"></script>
<script> DD_belatedPNG.fix('.pngfix'); </script>
<![endif]-->
<script language="javascript" type="text/javascript" src="/include/ckeditor/plugins/syntaxhighlight/code.js" ></script>
<!-- 织梦技术研究中心 http://www.dedejs.com -->
<link type="text/css" rel="stylesheet" href="/include/ckeditor/plugins/syntaxhighlight/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="/include/ckeditor/plugins/syntaxhighlight/styles/shThemeDefault.css"/>
</head>
<body>
<script type=text/javascript><!--//--><![CDATA[//><!--
function menuFix() {
 var sfEls = document.getElementById("nav").getElementsByTagName("li");
 for (var i=0; i<sfEls.length; i++) {
  sfEls[i].onmouseover=function() {
  this.className+=(this.className.length>0? " ": "") + "sfhover";
  }
  sfEls[i].onMouseDown=function() {
  this.className+=(this.className.length>0? " ": "") + "sfhover";
  }
  sfEls[i].onMouseUp=function() {
  this.className+=(this.className.length>0? " ": "") + "sfhover";
  }
  sfEls[i].onmouseout=function() {
  this.className=this.className.replace(new RegExp("( ?|^)sfhover\\b"),

"");
  }
 }
}
window.onload=menuFix;

//--><!]]></script>
<div id="topNav">
  <div class="block clearfix">
    <div class="topNav1">源码路专注于织梦源码分享、织梦模板、discuz模板、wordpress主题等网站模板，为广大站长提供网站模板以及Discuz插件等素材。</div>
    <div class="f_r">
      <div id="_userlogin">
      <div class="userlogin">
       <form name="userlogin" action="/member/index_do.php" method="POST">
        <input type="hidden" name="fmdo" value="login" />
        <input type="hidden" name="dopost" value="login" />
        <input type="hidden" name="keeptime" value="604800" />
        <div class="fb"><span>用户名:</span>
         <input type="text" name="userid" size="10" class="ipt-txt" />
        </div>
        <div class="fb"><span>密码:</span>
         <input type="password" name="pwd" size="10" class="ipt-txt" />
        </div>
        <div class="submit">
         <button type="submit" class="btn-1">登录</button>
         <a href="/member/index_do.php?fmdo=user&dopost=regnew" class="btn-1">注册</a> <!--<a href="/member/resetpassword.php">忘记密码?</a>--> </div>
       </form>
      </div>
     </div>
     <!-- /userlogin -->
     <script language="javascript" type="text/javascript">CheckLogin();</script>
    
    </div>
  </div>
</div>
<div class="header_bg">
  <div class="block clearfix">
    <h1><a title="织梦模板,模板王" href="/" name="top">织梦源码,模板王</a></h1>
    <div style="float: right;">
      <form id="searchForm" action="/plus/search.php" name="formsearch">
        <input type="hidden" name="kwtype" value="0" />
        <div class="search_box">
          <input name="q" type="text" class="B_input" value="在这里搜索..." onfocus="if(this.value=='在这里搜索...'){this.value='';}"  onblur="if(this.value==''){this.value='在这里搜索...';}" />
        </div>
        <input name="imageField" type="submit" value="" class="go" style="cursor:pointer;" />
      </form>
     <a href="/work/vip.html" target="_blank"><img src="/images/join.jpg" alt="VIP" width="350" height="55"></a>
    </div>
  </div>
</div>
<div id="mainNav" class="clearfix">
  <div class="shadow-x shadow-x1 pngfix"></div>
  <div style="position: relative;" class="block">
    <div class="meun_in">
    <a  class="a1" href="/">首页</a>
    <ul id="nav">
    	<li><a href="/yuanma/">精品源码</a>
            <ul>
                
            </ul>
        </li><li><a href="/vip/">VIP专区</a>
            <ul>
                
            </ul>
        </li><li><a href="/sucai/">站长素材</a>
            <ul>
                
            </ul>
        </li><li><a href="/web/">Web技术</a>
            <ul>
                
                  <li><a href="/php/">PHP</a></li>
                  
                  <li><a href="/linux/">Linux</a></li>
                  
                  <li><a href="/mysql/">MySQL</a></li>
                  
                  <li><a href="/git/">Git</a></li>
                  
                  <li><a href="/sjms/">设计模式</a></li>
                  
                  <li><a href="/html5css3/">HTML5+CSS3</a></li>
                  
                  <li><a href="/javascript/">JavaScript</a></li>
                  
                  <li><a href="/jquery/">jQuery</a></li>
                  
            </ul>
        </li><li><a href="/seo/">站长学院</a>
            <ul>
                
                  <li><a href="/seo/">网站seo</a></li>
                  
                  <li><a href="/jianzhan/">建站资讯</a></li>
                  
            </ul>
        </li>
    </ul>
    
     <div class="meun_r" id="nav">
       <li>
         <a href="#">加入VIP</a>
         <ul>
           <li>
             <a href="/work/vip.html" target="_blank">加入VIP</a>
           </li>
           <li>
             <a href="/dingyue/" target="_blank">订阅我们</a>
           </li>
         </ul>
       </li>
     </div>
        
        
    </div>
     <div class="category_all" onmouseover="this.className='category_all category_all_on'" onmouseout="this.className='category_all'"><a class="tit" href="#">Web技术</a>
      <div style="clear: both;"></div>
      <div class="category_all_box">
      <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c9"></i>
            <h2><a class="dt_a1" href="/web/">Web技术</a></h2>
          </dt>
        </dl> 
       
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c1"></i>
            <h2><a class="dt_a1" href="/php/">PHP</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c2"></i>
            <h2><a class="dt_a1" href="/linux/">Linux</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c3"></i>
            <h2><a class="dt_a1" href="/mysql/">MySQL</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c4"></i>
            <h2><a class="dt_a1" href="/git/">Git</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c5"></i>
            <h2><a class="dt_a1" href="/sjms/">设计模式</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c6"></i>
            <h2><a class="dt_a1" href="/html5css3/">HTML5+CSS3</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c7"></i>
            <h2><a class="dt_a1" href="/javascript/">JavaScript</a></h2>
          </dt>
        </dl>
        
        <dl onmouseover="this.className='dl_on'" onmouseout="this.className=''">
          <dt><i class="c8"></i>
            <h2><a class="dt_a1" href="/jquery/">jQuery</a></h2>
          </dt>
        </dl>
        
            
      </div>
    </div>
  </div>
</div>
<div class="blank"></div>
<div class="block clearfix">
  <div class="box">
    <div class="box_1">
      <div class="ur_here">
        <div style="float: left;"><a href='http://127.0.0.1//'>网站模板</a> > <a href='/web/'>Web技术</a> > <a href='/html5css3/'>HTML5+CSS3</a> > </div>
        <div class="b_box2"></div>
      </div>
    </div>
    
 <div class="blank"></div>
<div class="bd_union2">
    <div class="bd_union2_right">
    <script type="text/javascript">
    /*468*60 创建于 2015-07-28*/
    var cpro_id = "u2233166";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
    </div>
  	<div class="bd_union2_left">
    <script type="text/javascript">
    /*640*60 创建于 2015-07-28*/
    var cpro_id = "u2233163";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
    </div>
  </div>
    <div class="blank"></div>

    <div class="AreaL2">
      <div class="box article_z">
        <div class="box_1 article_z">
          <h3 class="h3_3"><span>Web技术</span></h3>
          <div class="left_art">
            <div class="zhuobox">
            	<ul class="lb">
                 
                 <li><a href="/php/">PHP</a></li>
                 
                 <li><a href="/linux/">Linux</a></li>
                 
                 <li><a href="/mysql/">MySQL</a></li>
                 
                 <li><a href="/git/">Git</a></li>
                 
                 <li><a href="/sjms/">设计模式</a></li>
                 
                 <li><a href="/html5css3/">HTML5+CSS3</a></li>
                 
                 <li><a href="/javascript/">JavaScript</a></li>
                 
                 <li><a href="/jquery/">jQuery</a></li>
                 
              	</ul>
            </div>
          </div>
        </div>
      </div>
      <div class="blank5"></div>
      <div class="box article_z">
        <div class="box_1 article_z">
          <h3 class="h3_3"><span>站长学院</span></h3>
          <div class="left_art">
            <div class="zhuobox">
            	<ul class="lb">
                 
                 <li><a href="/seo/">网站seo</a></li>
                 
                 <li><a href="/jianzhan/">建站资讯</a></li>
                 
              	</ul>
            </div>
          </div>
        </div>
      </div>
      <div class="blank5"></div>

<div class="box article_z">
<script type="text/javascript">
/*200*200 创建于 2015-07-28*/
var cpro_id = "u2233243";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div>
<div class="blank5"></div>

    </div>
    <div class="AreaR2">
      <div class="box">
        <div class="box_1">
          <div class="wzbt">
            <div class="tc">
              <h4 class="art_tit">ecshop二次开发网页模板之常用函数汇总</h4>
              <font class="f3">www.ymroad.com / 2015-04-09</font> </div>
            <div class="content">
				<div>
	最近进行ecshop的二次开发，整理了一部分的函数，另外在ecshop论坛上面也发现了很多函数说明，整理汇总如下，供大家参考。</div>
<div>
	所有函数功能说明:</div>
<div>
	lib_time.php</div>
<div>
	gmtime()</div>
<div>
	说明：获得当前格林威治时间的时间戳&nbsp;</div>
<div>
	server_timezone()</div>
<div>
	说明：获得服务器的时区&nbsp;</div>
<div>
	local_mktime($hour = NULL , $minute= NULL, $second = NULL, $month = NULL, $day = NULL, $year = NULL)</div>
<div>
	说明：生成一个用户自定义时区日期的GMT时间戳</div>
<div>
	local_date($format, $time = NULL)</div>
<div>
	说明：将GMT时间戳格式化为用户自定义时区日期</div>
<div>
	gmstr2time($str)</div>
<div>
	说明：转换字符串形式的时间表达式为GMT时间戳</div>
<div>
	local_strtotime($str)</div>
<div>
	说明：将一个用户自定义时区的日期转为GMT时间戳</div>
<div>
	local_gettime($timestamp = NULL)</div>
<div>
	说明：获得用户所在时区指定的时间戳</div>
<div>
	local_getdate($timestamp = NULL)</div>
<div>
	说明：获得用户所在时区指定的日期和时间信息</div>
<div>
	lib_base.php</div>
<div>
	sub_str($str, $length = 0, $append = true)</div>
<div>
	说明：截取UTF-8编码下字符串的函数</div>
<div>
	real_ip()</div>
<div>
	说明：获得用户的真实IP地址</div>
<div>
	str_len($str)</div>
<div>
	说明：计算字符串的长度（汉字按照两个字符计算）</div>
<div>
	get_crlf()</div>
<div>
	说明：获得用户操作系统的换行符</div>
<div>
	send_mail($name, $email, $subject, $content, $type = 0, $notification=false)</div>
<div>
	说明：邮件发送</div>
<div>
	gd_version()</div>
<div>
	说明：获得服务器上的 GD 版本</div>
<div>
	file_get_contents($file)</div>
<div>
	说明：如果系统不存在file_get_contents函数则声明该函数</div>
<div>
	file_put_contents($file, $data, $flags = &#39;&#39;)</div>
<div>
	说明：如果系统不存在file_put_contents函数则声明该函数</div>
<div>
	floatval($n)</div>
<div>
	说明：如果系统不存在 floatval 函数则声明该函数</div>
<div>
	file_mode_info($file_path)</div>
<div>
	说明：文件或目录权限检查函数</div>
<div>
	log_write($arg, $file = &#39;&#39;, $line = &#39;&#39;)</div>
<div>
	说明：写入日志内容</div>
<div>
	make_dir($folder)</div>
<div>
	说明：检查目标文件夹是否存在，如果不存在则自动创建该目录</div>
<div>
	gzip_enabled()</div>
<div>
	说明：获得系统是否启用了 gzip</div>
<div>
	addslashes_deep($value)</div>
<div>
	说明：递归方式的对变量中的特殊字符进行转义</div>
<div>
	addslashes_deep_obj($obj)</div>
<div>
	说明：将对象成员变量或者数组的特殊字符进行转义</div>
<div>
	stripslashes_deep($value)</div>
<div>
	说明：递归方式的对变量中的特殊字符去除转义</div>
<div>
	make_semiangle($str)</div>
<div>
	说明：将一个字串中含有全角的数字字符、字母、空格或&#39;%+-()&#39;字符转换为相应半角字符</div>
<div>
	check_file_type($filename, $realname = &#39;&#39;, $limit_ext_types = &#39;&#39;)</div>
<div>
	说明：检查文件类型 /文件名/真实文件名/允许的文件类型</div>
<div>
	mysql_like_quote($str)</div>
<div>
	说明：对 MYSQL LIKE 的内容进行转义 过滤掉_ %等字符.</div>
<div>
	real_server_ip()</div>
<div>
	说明：获取服务器的ip</div>
<div>
	ecs_header($string, $replace = true, $http_response_code = 0)</div>
<div>
	说明：自定义 header 函数，用于过滤可能出现的安全隐患</div>
<div>
	ecs_iconv($source_lang, $target_lang, $source_string = &#39;&#39;)</div>
<div>
	说明：自定义的编码转换</div>
<div>
	ecs_geoip($ip)</div>
<div>
	说明：取得IP的地址,采用IP库</div>
<div>
	trim_right($str)</div>
<div>
	说明：去除字符串右侧可能出现的乱码</div>
<div>
	move_upload_file($file_name, $target_name = &#39;&#39;)</div>
<div>
	说明：将上传文件转移到指定位置</div>
<div>
	json_str_iconv($str)</div>
<div>
	说明：将JSON传递的参数转码</div>
<div>
	get_file_suffix($file_name, $allow_type = array())</div>
<div>
	说明：获取文件后缀名,并判断是否合法</div>
<div>
	read_static_cache($cache_name)</div>
<div>
	说明：读结果缓存文件</div>
<div>
	write_static_cache($cache_name, $caches)</div>
<div>
	说明：写结果缓存文件</div>
<div>
	lib_common.php (公用函数库)</div>
<div>
	db_create_in($item_list, $field_name = &#39;&#39;)</div>
<div>
	说明：创建像这样的查询: &ldquo;IN(&#39;a&#39;,&#39;b&#39;)&rdquo; $item_list为数组</div>
<div>
	is_email($user_email)</div>
<div>
	说明：验证输入的邮件地址是否合法</div>
<div>
	is_time($time)</div>
<div>
	说明：检查是否为一个合法的时间格式</div>
<div>
	assign_query_info()</div>
<div>
	说明：获得查询时间和次数，并赋值给smarty</div>
<div>
	region_result($parent, $sel_name, $type)</div>
<div>
	说明：创建地区的返回信息</div>
<div>
	get_regions($type = 0, $parent = 0)</div>
<div>
	说明：获得指定国家的所有省份, 函数需要数据库支持.</div>
<div>
	get_shipping_config($area_id)</div>
<div>
	说明：获得配送区域中指定的配送方式的配送费用的计算参数 比如快捷公司不同.</div>
<div>
	init_users()</div>
<div>
	说明：初始化会员数据整合类</div>
<div>
	cat_list($cat_id = 0, $selected = 0, $re_type = true, $level = 0, $is_show_all = true)</div>
<div>
	说明：获得指定分类下的子分类的数组, $re_type控制返回类型</div>
<div>
	cat_options($spec_cat_id, $arr)</div>
<div>
	说明：过滤和排序所有分类，返回一个带有缩进级别的数组</div>
<div>
	load_config()</div>
<div>
	说明：载入配置信息</div>
<div>
	get_brand_list()</div>
<div>
	说明：取得品牌列表</div>
<div>
	get_brands($cat = 0, $app = &#39;brand&#39;)</div>
<div>
	说明：获得某个分类下的品牌列表</div>
<div>
	get_promotion_info($goods_id = &#39;&#39;)</div>
<div>
	说明：所有的促销活动信息</div>
<div>
	get_children($cat = 0)</div>
<div>
	说明：获得指定分类下所有底层分类的ID</div>
<div>
	get_article_children ($cat = 0)</div>
<div>
	说明：获得指定文章分类下所有底层分类的ID</div>
<div>
	get_mail_template($tpl_name)</div>
<div>
	说明：获取邮件模板</div>
<div>
	order_action($order_sn, $order_status, $shipping_status, $pay_status, $note = &#39;&#39;, $username = null)</div>
<div>
	说明：记录订单操作记录</div>
<div>
	price_format($price, $change_price = true)</div>
<div>
	说明：格式化商品价格</div>
<div>
	get_virtual_goods($order_id, $shipping = false)</div>
<div>
	说明：返回订单中的虚拟商品 记录是否发货.</div>
<div>
	virtual_goods_ship(&amp;$virtual_goods, &amp;$msg, $order_sn, $return_result = false, $process = &#39;other&#39;)</div>
<div>
	说明：虚拟商品发货</div>
<div>
	virtual_card_shipping ($goods, $order_sn, &amp;$msg, $process = &#39;other&#39;)</div>
<div>
	说明：虚拟卡发货</div>
<div>
	virtual_card_result($order_sn, $goods)</div>
<div>
	说明：返回虚拟卡信息</div>
<div>
	get_snatch_result($id)</div>
<div>
	说明：获取指定 id snatch 活动的结果</div>
<div>
	clear_tpl_files($is_cache = true, $ext = &#39;&#39;)</div>
<div>
	说明：清除指定后缀的模板缓存或编译文件</div>
<div>
	clear_compiled_files($ext = &#39;&#39;)</div>
<div>
	说明：清除模版编译文件</div>
<div>
	clear_cache_files($ext = &#39;&#39;)</div>
<div>
	说明：清除缓存文件</div>
<div>
	clear_all_files($ext = &#39;&#39;)</div>
<div>
	说明：清除模版编译和缓存文件</div>
<div>
	smarty_insert_scripts($args)</div>
<div>
	说明：页面上调用的js文件,组合功能.</div>
<div>
	smarty_create_pages($params)</div>
<div>
	说明：创建分页的列表</div>
<div>
	build_uri($app, $params, $append = &#39;&#39;, $page = 0, $size = 0)</div>
<div>
	说明：重写 URL 地址</div>
<div>
	formated_weight($weight)</div>
<div>
	说明：格式化重量</div>
<div>
	log_account_change($user_id, $user_money = 0, $frozen_money = 0, $rank_points = 0, $pay_points = 0, $change_desc = &#39;&#39;, $change_type = ACT_OTHER)</div>
<div>
	说明：记录帐户变动</div>
<div>
	article_cat_list($cat_id = 0, $selected = 0, $re_type = true, $level = 0)</div>
<div>
	说明：获得指定分类下的子分类的数组/ 向下取数组.</div>
<div>
	article_cat_options($spec_cat_id, $arr)</div>
<div>
	说明：过滤和排序所有文章分类，返回一个带有缩进级别的数组</div>
<div>
	uc_call($func, $params=null)</div>
<div>
	说明：调用UCenter的函数</div>
<div>
	exception_handler($errno, $errstr, $errfile, $errline)</div>
<div>
	说明：error_handle回调函数未启用.</div>
<div>
	get_image_path($goods_id, $image=&#39;&#39;, $thumb=false, $call=&#39;goods&#39;, $del=false)</div>
<div>
	说明：重新获得商品图片与商品相册的地址</div>
<div>
	user_uc_call($func, $params = null)</div>
<div>
	说明：调用使用UCenter插件时的函数</div>
<div>
	get_volume_price_list($goods_id, $price_type = &#39;1&#39;)</div>
<div>
	说明：取得商品优惠价格列表</div>
<div>
	get_final_price($goods_id, $goods_num = &#39;1&#39;, $is_spec_price = false, $spec = array())</div>
<div>
	说明：取得商品最终使用价格</div>
<div>
	get_package_info($id)</div>
<div>
	说明：获取指定id package 的信息</div>
<div>
	get_package_goods($package_id)</div>
<div>
	说明：获得指定礼包的商品lib_main.php (前台公用函数库)</div>
<div>
	update_user_info()</div>
<div>
	说明：更新用户SESSION,COOKIE及登录时间、登录次数。</div>
<div>
	get_user_info($id=0)</div>
<div>
	说明：获取用户信息数组</div>
<div>
	assign_ur_here($cat = 0, $str = &#39;&#39;)</div>
<div>
	说明：取得当前位置和页面标题</div>
<div>
	get_parent_cats($cat)</div>
<div>
	说明：获得指定分类的所有上级分类</div>
<div>
	build_pagetitle($arr, $type = &#39;category&#39;)</div>
<div>
	说明：根据提供的数组编译成页面标题</div>
<div>
	build_urhere($arr, $type = &#39;category&#39;)</div>
<div>
	说明：根据提供的数组编译成当前位置</div>
<div>
	assign_dynamic($tmp)</div>
<div>
	说明：获得指定页面的动态内容</div>
<div>
	assign_articles($id, $num)</div>
<div>
	说明：分配文章列表给smarty</div>
<div>
	get_shop_help()</div>
<div>
	说明：分配帮助信息</div>
<div>
	assign_pager($app, $cat, $record_count, $size, $sort, $order, $page = 1,$keywords = &#39;&#39;, $brand = 0, $price_min = 0, $price_max = 0, $display_type = &#39;list&#39;, $filter_attr=&#39;&#39;, $url_format=&#39;&#39;, $sch_array=&#39;&#39;)</div>
<div>
	说明：创建分页信息.分页函数.</div>
<div>
	get_pager($url, $param, $record_count, $page = 1, $size = 10)</div>
<div>
	说明：生成给pager.lbi赋值的数组</div>
<div>
	get_vote($id = &#39;&#39;)</div>
<div>
	说明：调用调查内容</div>
<div>
	get_user_browser()</div>
<div>
	说明：获得浏览器名称和版本</div>
<div>
	is_spider($record = true)</div>
<div>
	说明：判断是否为搜索引擎蜘蛛</div>
<div>
	get_os()</div>
<div>
	说明：获得客户端的操作系统</div>
<div>
	visit_stats()</div>
<div>
	说明：统计访问信息</div>
<div>
	save_searchengine_keyword($domain, $path)</div>
<div>
	说明：保存搜索引擎关键字</div>
<div>
	get_tags($goods_id = 0, $user_id = 0)</div>
<div>
	说明：获得指定用户、商品的所有标记</div>
<div>
	get_dyna_libs($theme, $tmp)</div>
<div>
	说明：获取指定主题某个模板的主题的动态模块</div>
<div>
	dyna_libs_replace($matches)</div>
<div>
	说明：换动态模块</div>
<div>
	upload_file($upload, $type)</div>
<div>
	说明：处理上传文件，并返回上传图片名(上传失败时返回图片名为空）</div>
<div>
	show_message($content, $links = &#39;&#39;, $hrefs = &#39;&#39;, $type = &#39;info&#39;, $auto_redirect = true)</div>
<div>
	说明：显示一个提示信息</div>
<div>
	parse_rate_value($str, &amp;$operate)</div>
<div>
	说明：将一个形如+10, 10, -10, 10%的字串转换为相应数字，并返回操作符号</div>
<div>
	recalculate_price()</div>
<div>
	说明：重新计算购物车中的商品价格：目的是当用户登录时享受会员价格，当用户退出登录时不享受会员价格</div>
<div>
	assign_comment($id, $type, $page = 1)</div>
<div>
	说明：查询评论内容</div>
<div>
	assign_template($ctype = &#39;&#39;, $catlist = array())</div>
<div>
	说明：默认的smarty赋值</div>
<div>
	time2gmt($time)</div>
<div>
	说明：将一个本地时间戳转成GMT时间戳</div>
<div>
	get_user_bonus($user_id = 0)</div>
<div>
	说明：查询会员的红包金额</div>
<div>
	set_affiliate()</div>
<div>
	说明：保存推荐uid</div>
<div>
	get_affiliate()</div>
<div>
	说明：获取推荐uid</div>
<div>
	article_categories_tree($cat_id = 0)</div>
<div>
	说明：获得指定分类同级的所有分类以及该分类下的子分类</div>
<div>
	get_article_parent_cats($cat)</div>
<div>
	说明：获得指定文章分类的所有上级分类</div>
<div>
	get_library_number($library, $template = null)</div>
<div>
	说明：取得某模板某库设置的数量</div>
<div>
	get_navigator($ctype = &#39;&#39;, $catlist = array())</div>
<div>
	说明：取得自定义导航栏列表</div>
<div>
	license_info()</div>
<div>
	说明：授权信息内容</div>
<div>
	lib_insert.php (动态内容函数库)</div>
<div>
	insert_query_info()</div>
<div>
	说明：获得查询次数以及查询时间</div>
<div>
	insert_history()</div>
<div>
	说明：调用浏览历史</div>
<div>
	insert_cart_info()</div>
<div>
	说明：调用购物车信息</div>
<div>
	insert_ads($arr)</div>
<div>
	说明：调用指定的广告位的广告</div>
<div>
	insert_member_info()</div>
<div>
	说明：调用会员信息</div>
<div>
	insert_comments($arr)</div>
<div>
	说明：调用评论信息</div>
<div>
	insert_vote()</div>
<div>
	说明：调用在线调查信息</div>
<div>
	lib_goods.php (商品相关函数库)</div>
<div>
	goods_sort($goods_a, $goods_b)</div>
<div>
	说明：商品推荐usort用自定义排序行数</div>
<div>
	get_categories_tree($cat_id = 0)</div>
<div>
	说明：获得指定分类同级的所有分类以及该分类下的子分类</div>
<div>
	get_child_tree($tree_id = 0)</div>
<div>
	说明：取和指定分类ID下的分类树</div>
<div>
	get_top10($cats = &#39;&#39;)</div>
<div>
	说明：调用当前分类的销售排行榜</div>
<div>
	get_recommend_goods($type = &#39;&#39;, $cats = &#39;&#39;)</div>
<div>
	说明：获得推荐商品</div>
<div>
	get_promote_goods($cats = &#39;&#39;)</div>
<div>
	说明：获得促销商品</div>
<div>
	get_category_recommend_goods($type = &#39;&#39;, $cats = &#39;&#39;, $brand = 0, $min =0, $max = 0, $ext=&#39;&#39;)</div>
<div>
	说明：获得指定分类下的推荐商品</div>
<div>
	get_goods_info($goods_id)</div>
<div>
	说明：获得商品的详细信息</div>
<div>
	get_goods_properties($goods_id)</div>
<div>
	说明：获得商品的属性和规格</div>
<div>
	get_same_attribute_goods($attr)</div>
<div>
	说明：获得属性相同的商品</div>
<div>
	get_goods_gallery($goods_id)</div>
<div>
	说明：获得指定商品的相册</div>
<div>
	assign_cat_goods($cat_id, $num = 0, $from = &#39;web&#39;)</div>
<div>
	说明：获得指定分类下的商品</div>
<div>
	assign_brand_goods($brand_id, $num = 0, $cat_id = 0)</div>
<div>
	说明：获得指定的品牌下的商品</div>
<div>
	get_extension_goods($cats)</div>
<div>
	说明：获得所有扩展分类属于指定分类的所有商品ID</div>
<div>
	bargain_price($price, $start, $end)</div>
<div>
	说明：判断某个商品是否正在特价促销期</div>
<div>
	spec_price($spec)</div>
<div>
	说明：获得指定的规格的价格</div>
<div>
	group_buy_info($group_buy_id, $current_num = 0)</div>
<div>
	说明：取得团购活动信息</div>
<div>
	group_buy_stat($group_buy_id, $deposit)</div>
<div>
	说明：取得某团购活动统计信息</div>
<div>
	group_buy_status($group_buy)</div>
<div>
	说明：获得团购的状态</div>
<div>
	auction_info($act_id, $config = false)</div>
<div>
	说明：取得拍卖活动信息</div>
<div>
	auction_log($act_id)</div>
<div>
	说明：取得拍卖活动出价记录</div>
<div>
	auction_status($auction)</div>
<div>
	说明：计算拍卖活动状态（注意参数一定是原始信息）</div>
<div>
	goods_info($goods_id)</div>
<div>
	说明：取得商品信息</div>
<div>
	favourable_info($act_id)</div>
<div>
	说明：取得优惠活动信息</div>
<div>
	wholesale_info($act_id)</div>
<div>
	说明：批发信息</div>
<div>
	add_style($goods_name, $style)</div>
<div>
	说明：添加商品名样式</div>
<div>
	get_goods_attr($goods_id)</div>
<div>
	说明：取得商品属性</div>
<div>
	get_goods_fittings($goods_list = array())</div>
<div>
	说明：获得购物车中商品的配件</div>
<div>
	lib_article.php (文章及文章分类相关函数库)</div>
<div>
	get_cat_articles($cat_id, $page = 1, $size = 20 ,$requirement=&#39;&#39;)</div>
<div>
	说明：获得文章分类下的文章列表</div>
<div>
	get_article_count($cat_id ,$requirement=&#39;&#39;)</div>
<div>
	说明：获得指定分类下的文章总数</div>

            </div>
            <div class="blank5"></div>
            <div class="blank5"></div>
            <div class="art_bottom"  >
              <div style="float:left">上一篇：<a href='/html5css3/579.html'>强化ECSHOP搜索功能（随机关键词+拼音搜索+分词搜索+结果分类展</a> </div>
              <div style="float:right">下一篇：<a href='/html5css3/1147.html'>ecshop教程：编辑器kindeditor图片上传添加水印功能</a> </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="blank5"></div>
    <div class="jogger"> </div>
    <div class="blank5"></div>
    <div class="blank5"></div>
  </div>
</div>
</div>
<div class="blank"></div>
<div class="blank"></div>
<div class="footer_box">
<div class="block">
  <div class="box">
    <div class="helpTitBg  ">
      <dl class="dl1">
        <dt><span></span>Web技术</dt>
        <div style=" clear:both"></div>
        <dd><a href="/dedecmsjc/" title="织梦教程">TMD9教程</a></dd>
        <dd><a href="/discuzjc/" title="Discuz教程">Discuz教程</a></dd>
        <dd><a href="/wordpressjc/" title="wordpress教程">wordpress教程</a></dd>
        <dd><a href="/ecshopjc/" title="ecshop教程">ecshop教程</a></dd>
      </dl>
      <dl class="dl2">
        <dt><span></span>站长学院</dt>
        <div style=" clear:both"></div>
        <dd><a href="/ems/" title="网站seo">网站seo</a></dd>
        <dd><a href="/jianzhan/" title="建站资讯">建站资讯</a></dd>
      </dl>
      <dl class="dl3">
        <dt><span></span>常见问题</dt>
        <div style=" clear:both"></div>
        <dd><a href="/work/vip.html" title="如何加入VIP">如何加入VIP</a></dd>
      </dl>
      <dl class="dl4">
        <dt><span></span>服务支持</dt>
        <div style=" clear:both"></div>
        <dd>QQ：249411513</dd>
        <dd>E-mail：249411513@qq.com</dd>
        <dd>Web：Www.YmRoad.Com</dd>
      </dl>
     <img width="100" height="103" alt="" src="/style/images/footer_img.gif"></div>
  </div>
</div>

<div id="footer">
<div class="text">
  Copyright 2015-2015 All Rights Reserved Theme by 源码路www.ymroad.com
  <br />
  <a href="http://www.ymroad.com/" target="_blank" rel="nofollow">浙ICP备11047180号-6</a>
  <a target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=249411513&site=qq&menu=yes">
    <img border="0" src="http://wpa.qq.com/pa?p=2:249411513:51" alt="点击这里给我发消息" title="点击这里给我发消息"/>
  </a>
  <br />
  <a href="http://www.ymroad.com" target="_blank">站长资源</a>
  <a href="/sitemap.xml" target="_blank">网站地图</a>
</div>
</div>
</div>
<div style="display:none"><script src="http://s11.cnzz.com/z_stat.php?id=1256403958&web_id=12539238" language="JavaScript"></script></div>

<script>
$(function(){
	$("#aFloatTools_Hide").click(function(){
	
		$('#divFloatToolsView').animate({
		width: 'hide', opacity: 'hide'
		}, 
		'normal',
		function(){
			 $('#divFloatToolsView').hide();
		})
		$('#aFloatTools_Show').attr('style','display:block');
		$('#aFloatTools_Hide').attr('style','display:none');
	})
	$("#aFloatTools_Show").click(function(){
	
		$('#divFloatToolsView').animate({
			width: 'show', opacity: 'show'
			},
			'normal',
			function(){ 
				$('#divFloatToolsView').show();
		})
		$('#aFloatTools_Show').attr('style','display:none');
		$('#aFloatTools_Hide').attr('style','display:block');
	})
	
})
</script>
<!-- <div id="floatTools" class="float0831">
  <div class="floatL"> <a id="aFloatTools_Show" class="btnOpen"  rel="nofollow"  style="DISPLAY: none" title="查看在线客服" href="javascript:void(0);">展开</a> <a id="aFloatTools_Hide" class="btnCtn"  rel="nofollow"   title="关闭在线客服" href="javascript:void(0);">收缩</a> </div>
  <div id="divFloatToolsView" class="floatR" style="display:blcok">
    <div class="tp"></div>
    <div class="cn">
      <ul>
        <li class="top">
          <h3 class="titZx"></h3>
        </li>
        <li><a class="icoTc" title="加入VIP" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=23&site=qq&menu=yes">加入VIP</a> </li>
        <li><a class="icoTc" title="仿站咨询" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=942389&site=qq&menu=yes">仿站咨询</a> </li>
        <li><a class="icoTc" title="织梦后台定制" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=94230489&site=qq&menu=yes">织梦后台定制</a> </li>
      </ul>
      
    </div>
  </div>
</div> -->

<script language="javascript"> 
(function(){
        var res = GetRequest();
        var par = res['index'];
        if(par!='gfan'){
                var ua=navigator.userAgent.toLowerCase();
                var contains=function (a, b){
                        if(a.indexOf(b)!=-1){return true;}
                };
//将下面的http://m.baidu.com改成你的wap手机版地址        
                var toMobileVertion = function(){
                        window.location.href = 'http://www.ymroad.com/m/'
                }

                if(contains(ua,"ipad")||(contains(ua,"rv:1.2.3.4"))||(contains(ua,"0.0.0.0"))||(contains(ua,"8.0.552.237"))){return false}
                if((contains(ua,"android") && contains(ua,"mobile"))||(contains(ua,"android") && contains(ua,"mozilla")) ||(contains(ua,"android") && contains(ua,"opera"))
        ||contains(ua,"ucweb7")||contains(ua,"iphone")){toMobileVertion();}
        }
})();
function GetRequest() {
   var url = location.search; //获取url中"?"符后的字串
   var theRequest = new Object();
   if (url.indexOf("?") != -1) {
      var str = url.substr(1);
      strs = str.split("&");
      for(var i = 0; i < strs.length; i ++) {
         theRequest[strs.split("=")[0]]=unescape(strs.split("=")[1]);
      }
   }
   return theRequest;
}
</script>
</body>
</html>
